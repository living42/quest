server:
  listens:
    - TCP: :7053
    - UDP: :7053

resolvers:
  china:
    server:
      - 223.5.5.5
      - 223.6.6.6

  non-china:
    server:
      # - tcp://1.1.1.1
      # - tcp://1.0.0.1
      # - tls://1.1.1.1
      # - tls://1.0.0.1
      - https://1.1.1.1/dns-query
      - https://1.0.0.1/dns-query
      # - https://9.9.9.9:5053/dns-query
      # - https://dns.google.com/resolve

routes:
  main:
    - {ROUTE: CHINA_SITES}
    - {ROUTE: non-china}

  CHINA_SITES:
    - {DOMAIN-SUFFIX: cn, ROUTE: china}
    - {DOMAIN-SUFFIX: baidu.com, ROUTE: china}
    - {DOMAIN-SUFFIX: bilibili.com, ROUTE: china}
    - {DOMAIN-SUFFIX: t.tt, ROUTE: china}

  china:
    - {IPSET: china}
    - {RESOLVER: china}

  non-china:
    - {RESOLVER: non-china}
